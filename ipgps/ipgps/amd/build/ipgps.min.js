define("block_ipgps/ipgps",["jquery","core/ajax","core/notification","core/str"],function(t,o,n,i){var a,e,r=function(i,a,e,r){var c=f(i);o.call([{methodname:"block_ipgps_setUserUbicacion",args:{userid:a,action:i,latitude:e,longitude:r},done:function(o){d(c,o),t("#aLink").attr("data-action",c)},fail:n.exception}])},c=function(t,o){navigator.geolocation?(a=t,e=o,navigator.geolocation.getCurrentPosition(s,u)):alert("Geolocation is not supported by this browser.")};function s(t){var o;r(a,e,t.coords.latitude,t.coords.longitude)}function u(t){alert("Error: "+t.message),r("hide",e,"","")}var d=function(o,n){var i=t("#msg"),a=t("#aLink .icon");t(a).addClass(l(o)),t(a).removeClass(l(f(o))),t(i).text(n)},l=function(t){return"show"==t?"fa-eye-slash":"fa-eye"},f=function(t){return"show"==t?"hide":"show"};return{init:function(){t("#aLink").on("click",function(o){o.preventDefault();var n=t(this).attr("data-action"),i=t(this).attr("data-userid");c(n,i)})}}});